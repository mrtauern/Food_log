
<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">

<head th:include="fragments/head :: styles">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<script type="text/javascript" src="/js/javascript.js"></script>
<script type="text/javascript">
    function clearSearch() {
        window.location = "[[@{/dailyLog}]]";
    }
</script>
<body>
<header th:include="fragments/navbar_top :: navbar" class="navbar"></header>

<div th:include="fragments/navbar_top :: leftbar" id="leftBar"></div>

<div id="content">

    <div class="contentBox calorieCount">
        <h1>Calorie count</h1>

        <b>Total Kcal: </b><span th:text="${bmr}"></span><br>
        <b>Kcal used: </b><span th:text="${kcalUsed}"></span><br>
        <b>Kcal left: </b><span th:text="${kcalLeft}"></span><br>
    </div>

    <div class="contentBox">
        <a th:href="${'/dailyLog/' + today}" class="btn btn-dark mr-2 btn-sm"><i class="fas fa-calendar-day"></i> Today</a>
        <a th:href="${'/dailyLog/' + previousMonth}" class="btn btn-dark mr-2 btn-sm"><i class="fas fa-chevron-left"></i> Month</a>
        <a th:href="${'/dailyLog/' + previousWeek}" class="btn btn-dark mr-2 btn-sm"><i class="fas fa-chevron-left"></i> Week</a>
        <a th:href="${'/dailyLog/' + yesterday}" class="btn btn-dark mr-2 btn-sm"><i class="fas fa-chevron-left"></i> Day</a>
        <a th:href="${'/dailyLog/' + tomorrow}" class="btn btn-dark mr-2 btn-sm">Day <i class="fas fa-chevron-right"></i></a>
        <a th:href="${'/dailyLog/' + nextWeek}" class="btn btn-dark mr-2 btn-sm">Week <i class="fas fa-chevron-right"></i></a>
        <a th:href="${'/dailyLog/' + nextMonth}" class="btn btn-dark mr-2 btn-sm">Month <i class="fas fa-chevron-right"></i></a>

        <form th:method="post" th:action="@{/selectedDate}">
            <input type="date" name="selectedDate" th:value="${sSelectedDate}">

            <button type="submit" class="btn btn-primary mr-2 btn-sm"><i class="fas fa-arrow-right"></i></button>
        </form>
    </div>
<!-- <div class="row"> -->
    <div class="contentBox">

        <h1>Food</h1>

        <div class="actionBar">

            <a th:href="@{/addFoodToDailyLog}" class="btn btn-success mr-2 btn-sm"><i class="fas fa-plus-circle"></i> Add Food To DailyLog</a>

        </div>

            <table class="table table-sm">
                <thead>
                <tr>
                    <!--<th>Food ID</th>-->
                    <!--<th>U Name</th>-->
                    <th>Name</th>
                    <th>Log type</th>
                    <!--<th>Date</th>-->
                    <th>Amount</th>
                    <!--<th>Private Food ID</th> -->
                    <th></th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="food : ${foods}">
                    <!--<td th:text="${food?.id}">DailyLog ID</td>-->
                    <!--<td th:text="${food?.fkUser?.firstname}">Name</td>-->
                    <td><i class="fas fa-drumstick-bite"></i> <span th:text="${food?.food?.name}"></span></td>
                    <td><i class="fas fa-text-height"></i> <span th:text="${food?.fkLogType?.type}"></span></td>
                    <!--<td th:text="${food?.sDatetime}">Date</td>-->
                    <td><i class="fas fa-balance-scale-left"></i> <span th:text="${food?.amount}"></span></td>
                    <td class="actionButtons">
                        <a th:href="@{/updateDailyLog/{id}(id=${food.id})}" class="btn btn-dark mr-2 btn-sm"><i class="fas fa-pen"></i> Edit</a>
                        <a th:href="@{/deleteDailyLog/{id}(id=${food.id})}" class="btn btn-danger mr-2 btn-sm"><i class="fas fa-trash-alt"></i> Delete</a>
                    </td>
                </tr>
                </tbody>
            </table>
    </div>

    <div class="contentBox">
        <h1>Exercise</h1>

        <div class="actionBar">

            <a th:href="@{/addExerciseToDailyLog}" class="btn btn-success mr-2 btn-sm"><i class="fas fa-plus-circle"></i> Add Exercise To DailyLog</a>

        </div>

        <table class="table table-sm">
            <thead>
            <tr>
                <!--<th>dailyLog ID</th>-->
                <th>Minuttes</th>
                <th>Name</th>
                <th></th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="exercise : ${exercises}">
                <!--<td th:text="${exercise?.id}">dailyLog ID</td>-->
                <td><i class="fas fa-clock"></i> <span th:text="${exercise?.amount}"></span></td>
                <td><i class="fas fa-running"></i> <span th:text="${exercise?.fkExercise?.name}"></span></td>
                <td class="actionButtons">
                    <a th:href="@{/updateExerciseInDailyLog/{id}(id=${exercise.id})}" class="btn btn-dark mr-2 btn-sm"><i class="fas fa-pen"></i> Edit</a>
                    <a th:href="@{/deleteExerciseFromDailyLog/{id}(id=${exercise.id})}" class="btn btn-danger mr-2 btn-sm"><i class="fas fa-trash-alt"></i> Delete</a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

    <div class="contentBox">
          <br><br>
          <a th:href="@{/createCurrentWeight}">Add Weight To Daily Log</a>
          <table border="1" cellpadding="10">
              <thead>
                  <tr>

                      <th>Current weight</th>
                      <th>Actions</th>
                  </tr>
              </thead>
              <tbody>

              <tr>
                  <span th:if="${weight?.amount != 0.0}">
                      <td th:text="${weight?.amount}">Weight</td>
                      <td>
                          <a th:href="@{/updateCurrentWeight/{id}(id=${weight?.id})}">Edit</a>
                          <a th:href="@{/deleteCurrentWeight/{id}(id=${weight?.id})}">Delete</a>
                      </td>
                  </span>

              </tr>
              </tbody>
          </table>
    </div>
</div>
<footer th:include="fragments/navbar_top :: bottom_bar"></footer>

</body>
</html>